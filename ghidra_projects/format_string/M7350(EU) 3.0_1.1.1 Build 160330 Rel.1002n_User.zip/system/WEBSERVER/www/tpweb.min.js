/* =============================================================
 * Copyright (c) 2014 TP-LINK Technologies Co., Ltd.
 *
 * @version: 0.0.1
 * @author: TP-Mobile Web Team
 * =============================================================*/

function callJSON(a,b,c,d,e,f,g){if("undefined"==typeof a||"undefined"==typeof b)throw"moduleName or action can not be empty";var h=$.extend({module:a,action:b},c);if(a===AUTH_MODULE){if(b===authAction.CLOSE||b===authAction.UPDATE){var i=AuthModel.getToken();if(!i)return;h=$.extend({token:i},h)}}else if(!("webServer"===a&&b!==unsetFacAction||"status"===a&&-1!==window.location.pathname.indexOf("login.html")||-1!==window.location.pathname.indexOf("browserWarning.html"))){var j=AuthModel.getToken();if(!j)return;h=$.extend({token:j},h)}var k=a===AUTH_MODULE?AUTH_CGI:WEB_CGI,l=null;return $.ajax({type:"POST",url:k,async:g===!1?!1:!0,data:JSON.stringify(h),dataType:"json",processData:!1,cache:!1,timeout:"number"==typeof f?f:ajaxTimeout,success:function(a,b,c){if("string"==typeof a)try{a=JSON.parse(a)}catch(f){return"function"==typeof e&&e(f),void 0}return a.result<0?(AuthModel.removeAuthToken(),-2===a.result?AuthModel.kickedOut():-3===a.result?AuthModel.authTimeout():AuthModel.promptNotAuth(),void 0):("function"==typeof d&&d(a,b,c),g===!1&&(l=a),void 0)},error:function(a,b,c){return"function"==typeof e&&e(a,b,c),g===!1?null:void 0}}),g===!1?l:void 0}function getConfigJSON(a,b,c,d,e){callJSON(a,0,null,b,c,d,e)}function ipverify(a){var b=/^(([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])$/;return b.test(a)}function is_ipaddr(a){var b=!0;b=a?ipverify(a):!1,/^(\d*)/.test(a);var c=Number(RegExp.$1);return 127===c||c>=224&&239>=c?!1:b}function is_privateIPaddr(a){if("192.168."===a.substring(0,8))return!0;if("172."===a.substring(0,4)){var b=a.substring(4,6);if("."===a.substring(6,7)&&parseInt(b)>=16&&parseInt(b)<=31)return!0}return"10."===a.substring(0,3)?!0:!1}function is_gatewayaddr(a){return is_ipaddr(a)}function is_dnsaddr(a){return is_ipaddr(a)}function is_number(a,b,c){var d,e,f="0123456789.",g=0;if("."===a.charAt(0))return!1;if(1!==a.length&&"0"===a.charAt(0)&&"."!==a.charAt(1))return!1;for(var h=0;h<a.length;h++){if(e=a.charAt(h),-1===f.indexOf(e))return!1;"."===e&&g++}return g>1?!1:(d=parseInt(a,10),d>=b&&c>=d)}function is_integer(a,b,c){var d,e,f="0123456789";if(1!==a.length&&"0"===a.charAt(0))return!1;for(var g=0;g<a.length;g++)if(e=a.charAt(g),-1===f.indexOf(e))return!1;return d=parseInt(a,10),d>=b&&c>=d}function dotIpToInt(a){for(var b,c=0,d=0,e=0,f=0;3>f;f++)e=a.indexOf(".",d),b=a.substring(d,e),c+=parseInt(b,10)<<8*(3-f),d=e+1;return b=a.substr(d),c+=parseInt(b,10)}function chkIpInNetwork(a,b,c){var d=dotIpToInt(a),e=dotIpToInt(b),f=dotIpToInt(c);return 0===d||0===e||0===f?0:(4026531840&d)>=3758096384||0===(4278190080&d)||2130706432===(4278190080&d)?0:(e&f)!==(d&f)?0:0===(d&~f)||(d&~f)===~f?2:1}function checkSsidSanity(a){for(var b,c="0123456789ABCDEFabcdefGHIJKLMNOPQRSTUVWXYZghijklmnopqrstuvwxyz`~!@#$%^&*()-=_+[]{};:'\"\\|/?.,<>/ ",d=0;32>d;d++)if(b=a.charAt(d),-1===c.indexOf(b))return!1;return!0}function checkWlanKeySanity(a){for(var b,c="0123456789ABCDEFabcdefGHIJKLMNOPQRSTUVWXYZghijklmnopqrstuvwxyz`~!@#$%^&*()-=_+[]{};:'\"\\|/?.,<>/ ",d=0;63>d;d++)if(b=a.charAt(d),-1===c.indexOf(b))return!1;return!0}function chkNetworkMask(a){var b,c=dotIpToInt(a),d=4294967295,e=1;if(0===c)return!1;for(b=0;32>b;b++){if(0!==(e&c))return c===d<<b;e<<=1}return!1}function chkIpMask(a,b){var c=dotIpToInt(a),d=dotIpToInt(b);return 0===(c&d)||d===(c&d)?!1:0===(c&~d)||~d===(c&~d)?!1:!0}function chkLanIp(a,b,c){var d=dotIpToInt(a),e=dotIpToInt(b),f=dotIpToInt(c);return 0===d||0===e||0===f?!1:d>=e&&f>=d?!1:!0}function isMobileNumValid(a){var b,c,d=0,e=a.length;if(e>20)return!1;var f=new Array(/^0607\+/,/^120609\+/);for(b=0;b<f.length;b++)if(a.match(f[b]))return!0;for(b=0;e>b;b++)if(c=a.charCodeAt(b),48>c||c>57){if(43!==c)return!1;if(d>0)return!1}else d++;return 0===e||d>0?!0:!1}function isEqual(a,b){if(typeof a!=typeof b)return!1;if("object"==typeof a){for(var c in a){if("undefined"==typeof b[c])return!1;if(!isEqual(a[c],b[c]))return!1}return!0}return a===b}function checkBrowserType(){var a,b=navigator.userAgent.toLowerCase(),c={};return a==b.match(/msie ([\d.]+)/)?(c.ie=!0,c.info="ie"):a==b.match(/firefox\/([\d.]+)/)?(c.ff=!0,c.info="ff"):a==b.match(/chrome\/([\d.]+)/)?(c.chrome=!0,c.info="chrome"):a==b.match(/opera.([\d.]+)/)?(c.opera=!0,c.info="opera"):a==b.match(/version\/([\d.]+).*safari/)&&(c.safari=!0,c.info="safari"),c.version=a&&a[1]?parseFloat(a[1]):0,c}function isMobile(){var a={Android:function(){return navigator.userAgent.match(/Android/i)?!0:!1},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)?!0:!1},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)?!0:!1},Windows:function(){return navigator.userAgent.match(/IEMobile/i)?!0:!1},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Windows()}};return a}function isPhone(){return navigator.userAgent.match(/Mobile|Android|BlackBerry|webOS|IEMobile|Opera Mini|iPhone|iPod|\\bBB10\\b|PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino|Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;|Windows Phone 8.0|Windows Phone OS|MeeGo|Maemo|J2ME\/|\\bMIDP\\b|\\bCLDC\\b|\\bBada\\b|BREW/i)&&!navigator.userAgent.match(/iPad|Tablet|tablet/i)?!0:!1}function formatSMSDate(a){if(!a)return"error";var b,c,d,e=[],f=[],g=[];return g=a.split(" "),e=g[0].split("-"),f=g[1].split(":"),$.each(e,function(a,b){0===a?c="20"+b:c+="/"+b}),d=f[0]+":"+f[1],b=c+" "+d}function formatNumber(a){if(!a)return"error";var b=5>=a.length?a:a.substr(0,5)+"...";return b}function getIpv4Addr(a){var b=(255&a)+"."+(a>>8&255)+"."+(a>>16&255)+"."+(a>>24&255);return b}function getValLen(a){for(var b=0,c=a.length,d=0;c>d;d++){var e=a.charAt(d);b+=e>=" "&&"~">=e?1:2}return b}function isLoginPswValid(a){var b=/^[A-Za-z0-9-_]+$/;return a.match(b)?!0:!1}function devicenameValidation(a){for(var b,c="#: &;~|<>$%^!@",d=0;d<a.length;d++)if(b=a.charAt(d),-1!==c.indexOf(b))return!1;return!0}function dialnumberValidation(a){for(var b,c="0123456789#*",d=0;d<a.length;d++)if(b=a.charAt(d),-1===c.indexOf(b))return!1;return!0}function macVerify(a){var b,c="0123456789abcdefABCDEF";if(!a)return!1;var d=a.toLowerCase();if("ff:ff:ff:ff:ff:ff"===d)return!1;if("00:00:00:00:00:00"===d)return!1;if(17!==a.length)return!1;for(var e=0;17>e;e++)if(b=d.charAt(e),e%3===2){if(":"!==b&&"-"!==b)return!1}else if(-1===c.indexOf(b))return!1;return b=d.charAt(1),c.indexOf(b)%2===1?!1:!0}function pinValid(a){var b=a;if(!b)return!0;if(void 0===b)return!1;if(b.length<4||b.length>8)return!1;for(var c,d=0;d<b.length;d++)if(c=b.charCodeAt(d),48>c||c>57)return!1;return!0}function pukValid(a){var b=a;if(!b)return!0;if(void 0===b)return!1;if(8!==b.length)return!1;for(var c,d=0;d<b.length;d++)if(c=b.charCodeAt(d),48>c||c>57)return!1;return!0}function getTimeInt(){var a=new Date;return a.getTime()}function getValLen(a){for(var b=0,c=0;c<a.length;c++){var d=a.charAt(c);b+=d>=" "&&"~">=d?1:2}return b}function checkWpaKeySanity(a){if(!a)return!1;var b=getValLen(a);if(b>0&&8>b)return!1;if(!(b>=64))return checkWlanKeySanity(a);for(var c,d="0123456789ABCDEFabcdef",e=0;b>e;e++)if(c=a.charAt(e),-1===d.indexOf(c))return!1;return!0}function byteAdapt(a){a=Number(a);var b=0,c=new Array("Bytes","KB","MB","GB");if(!a||0>a)return[0,c[1]];do if(a/=1024,b++,3===b)break;while(a>=1024);a=a.toString();var d=a.indexOf(".");return-1!==d&&(a=a.substr(0,a.indexOf(".")+3)),a=Number(a),[a,c[b]]}function byte2MB(a){if(a=Number(a),!a||0>a)return 0;for(var b=0;2>b;b++)a/=1024;a=a.toString();var c=a.indexOf(".");return-1!==c&&(a=a.substr(0,a.indexOf(".")+3)),Number(a)}function byte2GB(a){if(a=Number(a),!a||0>a)return 0;for(var b=0;3>b;b++)a/=1024;a=a.toString();var c=a.indexOf(".");return-1!==c&&(a=a.substr(0,a.indexOf(".")+3)),Number(a)}function speedShow(a){var b="B/S";a=Number(a),a>1024&&(a/=1024,b="KB/S"),a=a.toString();var c=a.indexOf(".");return-1!==c&&(a=a.substr(0,a.indexOf(".")+3)),Number(a)+b}function checkPassword(a){var b,c=0,d=0,e=0,f=0,g=0,h="abcdefghijklmnopqrstuvwxyz",i="ABCDEFGHIJKLMNOPQRSTUVWXYZ",j="`~!@#$%^&*()-=_+[]{};:'\"\\|/?.,<>/",k="0123456789";if(0===a.length)return c;a.length<5?c+=5:a.length<8?c+=10:a.length>=8&&(c+=25);for(var l=0;l<a.length;l++)b=a.charAt(l),-1!==h.indexOf(b)?d++:-1!==i.indexOf(b)?e++:-1!==j.indexOf(b)?f++:-1!==k.indexOf(b)&&g++;return d===a.length||e===a.length?c+=10:d>0&&e>0&&(c+=25),g===a.length?c+=10:g>0&&(c+=25),f===a.length?c+=10:f>0&&(c+=25),(d>0||e>0)&&(d>0&&e>0&&f>0&&g>0?c+=5:f>0&&g>0?c+=3:g>0&&(c+=2)),c}function validUsername(a){return maxLen=15,model=/^[\x30-\x39\x41-\x5a\x61-\x7a\x5f]+$/,a?!model.test(a)||a.length>maxLen?2:0:1}function validPassword(a){return maxLen=15,model=/^[\x21-\x7e]+$/,a?!model.test(a)||a.length>maxLen?2:0:1}function isValidUsername(a){return model=/^[\x30-\x39\x41-\x5a\x61-\x7a\x5f]+$/,a&&model.test(a)?!0:!1}function isValidPassword(a){return model=/^[\x21-\x7e]+$/,a&&model.test(a)?!0:!1}function isProfileInputCharValid(a){var b,c,d="0123456789ABCDEFabcdefGHIJKLMNOPQRSTUVWXYZghijklmnopqrstuvwxyz`~!@#$%^&*()-=_+[]{}<>;:\\|/?.,/";for(c=0;32>c;c++)if(b=a.charAt(c),-1===d.indexOf(b))return!1;return!0}function isProfileNameValid(a){return a.match(/\(D\)$/)?!1:!0}function checkProName(a){var b,c,d=0,e="0123456789ABCDEFabcdefGHIJKLMNOPQRSTUVWXYZghijklmnopqrstuvwxyz`~!@#$%^&*()-=_+[]{}<>;:\\|/?.,/";if(""===a.val())return-1;for(c=0;32>c;c++)if(b=a.val().charAt(c),-1===e.indexOf(b))return-2;if(a.val().match(/\(D\)$/))return-4;for(c=0;c<proList.list.length;c++)a.val()===proList.list[c].profileName&&d++;return d>1?-3:1}function replace_script_tag(a){var b=a.replace(/</g,"&lt;");return b=b.replace(/>/g,"&gt;")}function get_ua_type(){var a,b,c,d,e={windows:!1,windowsphone:!1,unixpc:!1,ipad:!1,iphone:!1,imacpc:!1,ipod:!1,android:!1,android_uc:!1,android2x:!1,nokia:!1,player:!1,leIE7:!1,leIE8:!1,isMobile:!1};try{a=window.navigator.platform.toLowerCase(),b=window.navigator.userAgent.toLowerCase(),c=window.navigator.appVersion.toLowerCase(),d=window.navigator.appName.toLowerCase()}catch(f){return{}}if(!a)return b.indexOf("android")>=0?(e.android=!0,e.isMobile=!0,e):(e.isMobile=document.body.clientWidth>=1024||document.body.clientHeight>=1024?!1:!0,e);if("microsoft internet explorer"===d){var g=c.split(";")[1],h=Number(g.split("msie")[1]);return h?(8>=h&&(e.leIE8=!0),7>=h&&(e.leIE7=!0)):document.documentMode&&(document.documentMode<=8&&(e.leIE8=!0),document.documentMode<=7&&(e.leIE7=!0)),e}return a.indexOf("win")>=0?(e.windows=!0,b.indexOf("windows phone")>=0?(e.windowsPhone=!0,e.isMobile=!0):e.isMobile=!1,e):b.indexOf("nokia")>=0?(e.nokia=!0,e.isMobile=!0,e):b.indexOf("android")>=0?(e.android=!0,e.isMobile=!0,(b.indexOf("android 2")>=0||c.indexOf("android 2")>=0)&&(e.android2x=!0),e):a.indexOf("ipad")>=0?(e.iPad=!0,e.isMobile=!1,e):a.indexOf("iphone")>=0?(e.iPhone=!0,e.isMobile=!0,e):a.indexOf("ipod")>=0?(e.iPod=!0,e.isMobile=!0,e):b.indexOf("wii")>=0||b.indexOf("playstation")>=0?(e.player=!0,e.isMobile=!0,e):a.indexOf("mac")>=0?(e.iMacPC=!0,e.isMobile=!1,e):a.indexOf("x11")>=0||a.indexOf("linux")>=0&&a.indexOf("arm")<0?(e.unixPC=!0,e.isMobile=!1,e):void 0}function loadHTML(a,b){$.ajax({type:"GET",url:a,dataType:"html",success:function(a){"function"==typeof b&&b(a)}})}function urlParse(a){a||(a="panel");var b=new RegExp("[?&]"+a+"=([^&]*)").exec(window.location.search);return b&&decodeURIComponent(b[1].replace(/\+/g)," ")}function loadHelpPage(a){var b="helpHTML/"+a+"Help.html";loadHTML(b,function(a){$("#helpContent").html(a)})}function createMenu(a){$.getJSON("model.conf",function(b){var c;"adv"===a?c=b.layout:"sms"===a&&(c=b.SMS),$(c.topLevelMenu).each(function(b,d){$("#"+a+"_accordionList").append(menuItemTmpl.render(d,c[d])),$.each(c[d],function(b,c){$("#"+b).click(function(){$(".nav-list > .active").removeClass("active"),$("#"+b).parent("li").addClass("active"),loadPage(a,c),loadHelpPage(c[0])})});var e=".nav-header a i:first-of-type";$("#ul-"+d).hover(function(){$(this).find(e).removeClass("icon-"+d).addClass("icon-"+d+"-selected")},function(){$(this).find(".nav-header").hasClass("open")||$(this).find(e).removeClass("icon-"+d+"-selected").addClass("icon-"+d)}),$("#ul-"+d).click(function(){$(this).find(".nav-header").hasClass("open")||($(this).parent().find(".nav-header").removeClass("open"),$(c.topLevelMenu).each(function(a,b){$("#ul-"+b).find(e).removeClass("icon-"+b+"-selected").addClass("icon-"+b)}),$(this).find(e).removeClass("icon-"+d).addClass("icon-"+d+"-selected"),$(this).children(".nav-header").addClass("open"),$(this).children().length>1&&($(".nav-list > .active").removeClass("active"),$($(this).find("li").get(1)).addClass("active"),loadPage(a,c[d+"Page"]),loadHelpPage(c[d+"Page"][0]))),$(this).children().length<=1&&($(this).find(".nav-header.open > a > .icon-collapse").css("visibility","hidden"),$(this).parent().find(".nav-list > .active").removeClass("active"),loadPage(a,c[d+"Page"]),loadHelpPage(c[d+"Page"][0]))})}),Settings.wireless?(Settings.wireless=!1,fireClickEvent("WirelessSettings"),$("#adv_accordionList").accordion(1)):Settings.dataSetting?(Settings.dataSetting=!1,fireClickEvent("DataSettings"),$("#adv_accordionList").accordion(2)):(fireClickEvent(c.firstMenuItem),"adv"===a?$("#adv_accordionList").accordion(0):"sms"===a&&$("#sms_accordionList").accordion(0)),menuLocalization()}),$(".panel-sections").css("min-height",window.innerHeight-parseInt($("#header").css("height"),10)-30)}function menuLocalization(){$.i18n.elementLocalization(".leftmenu",["span"]),$.i18n.switchFont()}function fireClickEvent(a){var b=urlParse();return b?($("#"+b).click(),void 0):($("#"+a).click(),void 0)}function setInputMaxLength(a,b){var c=$(b);c.attr("maxlength")||c.attr("maxlength","32")}function loadPage(a,b){var c,d={length:0},e=++g_curPageID;$(b).each(function(f,g){"adv"===a?c="advHTML/"+g+".html":"sms"===a&&(c="SMSHTML/"+g+".html"),loadHTML(c,function(c){if(d[g]=c,d.length+=1,d.length===b.length){var f,h=0;if(e!==g_curPageID)return;if(curMenuItems)for(h=0;h<curMenuItems.length;h++)f=$[curMenuItems[h]],f.onLeave&&f.onLeave();for($("#"+a+"_panel-wrapper").empty(),h=0;h<b.length;h+=1){var i=$(d[b[h]]);i.hide(),$("#"+a+"_panel-wrapper").append(i).find('input[type="text"]').each(setInputMaxLength);try{f=$[b[h]],f.onLoad()}catch(j){if(DEBUG)throw j}i.show()}curMenuItems=b}})})}function setDocInfo(){getConfigJSON("status",function(a){document.title=a.deviceInfo.model,(a.deviceInfo.hardwareVer.indexOf("M7350(UN) v3.0")>=0||a.deviceInfo.hardwareVer.indexOf("M7300")>=0)&&(region=new_region),dualIPVersionSupport=a.wan.dualIPVersionSupport?!0:!1})}var AUTH_MODULE="authenticator",WEB_CGI="cgi-bin/qcmap_web_cgi",AUTH_CGI="cgi-bin/qcmap_auth",authAction={LOAD:0,LOGIN:1,CHECK_ATTEMPT:2,CLOSE:3,UPDATE:4},unsetFacAction=3,ajaxTimeout=1e4,AUTH_RES={success:0,hasLogin:1,pwdWrong:2,ipLocked:3,otherLogin:4,unknownResult:5},AuthModel={g_token:"",login:function(a,b,c){if(!a||!b)return null;var d=callJSON(AUTH_MODULE,authAction.LOAD,null,null,null,ajaxTimeout,!1);if(null===d)return console.log("Auth Request Error"),void 0;var e=CryptoJS.MD5([a,b,d.nonce].join(":")).toString(),f=callJSON(AUTH_MODULE,authAction.LOGIN,{digest:e},null,null,ajaxTimeout,!1);switch(f.result){case 0:AuthModel.setAuthToken(f.token),c(AUTH_RES.success);break;case 1:c(AUTH_RES.pwdWrong);break;default:c(AUTH_RES.unknownResult)}},setAuthToken:function(a){AuthModel.isCookieEnable()?$.cookie("tpweb_token",a):AuthModel.g_token=a},removeAuthToken:function(){AuthModel.isCookieEnable()?$.removeCookie("tpweb_token"):AuthModel.g_token=""},logout:function(a){var b=callJSON(AUTH_MODULE,authAction.CLOSE,null,null,null,ajaxTimeout,!1);AuthModel.removeAuthToken(),a(b)},getToken:function(){var a="";if(AuthModel.isCookieEnable()){var b=$.cookie("tpweb_token");b?a=b:AuthModel.promptNotAuth()}else AuthModel.g_token?a=g_token:AuthModel.promptNotAuth();return a},promptNotAuth:function(){isPhone()?window.location.href="phoneIndex.html":-1===window.location.pathname.indexOf("login.html")&&(window.location.href="login.html")},authTimeout:function(){isPhone()?window.location.href="phoneIndex.html?timeout":-1===window.location.pathname.indexOf("login.html")&&(window.location.href="login.html?timeout")},kickedOut:function(){isPhone()?window.location.href="phoneIndex.html?kickedOut":-1===window.location.pathname.indexOf("login.html")&&(window.location.href="login.html?kickedOut")},isCookieEnable:function(){$.cookie("check_cookie","check_cookie",{path:"/"});var a="check_cookie"===$.cookie("check_cookie");return a&&$.removeCookie("check_cookie"),a}},dualIPVersionSupport=!0;!function(a){var b="";a.i18n.getLocale=function(){return b},a.i18n.setLocale=function(c,d){"string"==typeof c&&(b=c,a.i18n.properties({name:"str",path:"i18n/",language:c||"en",callback:function(){"function"==typeof d&&d()}}))},a.i18n.elementLocalization=function(b,c){var d,e,f,g,h=a(b);for(e=c.length-1;e>=0;e--)for(d=h.find(c[e]),f=d.length-1;f>=0;f--)g=a.i18n.prop(d[f].id),g&&d.eq(f).text(g)},a.i18n.switchFont=function(b){void 0===b&&(b=this.getLocale()),"cn"===b?(a("body").addClass("cnFont"),a("select").addClass("cnFont"),a("button").addClass("cnFont"),a("input").addClass("cnFont"),a("textarea").addClass("cnFont")):(a("body").removeClass("cnFont"),a("select").removeClass("cnFont"),a("button").removeClass("cnFont"),a("input").removeClass("cnFont"),a("textarea").removeClass("cnFont"))}}(jQuery);var curMenuItems=null,menuItemTmpl={_html:"",_tmpl:'<ul class="nav nav-list accordion-group" id="ul-{{nav-header}}"><li class="nav-header accordion-header"><a href="javascript:void(0)"><i class="icon-{{nav-header}}"></i><span id="{{nav-header}}"></span><i class="icon-collapse"></i></a></li>{%forEach%}<li class="accordion-body"><a href="javascript:void(0)" id="{{id}}"><i class="list-dot"></i><span id="{{elem}}"></span><i class="icon-tile"></i></a></li>{%endFor%}</ul>',_reg:"{%forEach%}(.*){%endFor%}",_renderHeader:function(a){this._html=this._html.replace(/{{nav-header}}/g,a)},_renderItems:function(a){var b=this._html.match(this._reg),c=b[1],d=b[0],e="";$.each(a,function(a){var b=c.replace("{{id}}",a);b=b.replace("{{elem}}",a),e+=b}),this._html=this._html.replace(d,e)},render:function(a,b){return this._html=this._tmpl,this._renderHeader(a),this._renderItems(b),this._html}},region={AL:{country:"Albania",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},DZ:{country:"Algeria",shortBandBegin:1,shortBandEnd:13,longBand:[]},AR:{country:"Argentina",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},AM:{country:"Armenia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},AU:{country:"Australia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},AT:{country:"Austria",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},AZ:{country:"Azerbaijan",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},BH:{country:"Bahrain",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},BY:{country:"Belarus",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},BE:{country:"Belgium",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},BZ:{country:"Belize",shortBandBegin:1,shortBandEnd:13,longBand:[149,153,157,161,165]},BO:{country:"Bolivia",shortBandBegin:1,shortBandEnd:13,longBand:[149,153,157,161,165]},BR:{country:"Brazil",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},BN:{country:"Brunei Darussalam",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},BG:{country:"Bulgaria",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},CA:{country:"Canada",shortBandBegin:1,shortBandEnd:11,longBand:[36,40,44,48,149,153,157,161,165]},CL:{country:"Chile",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},CN:{country:"China",shortBandBegin:1,shortBandEnd:13,longBand:[149,153,157,161,165]},CO:{country:"Colombia",shortBandBegin:1,shortBandEnd:11,longBand:[36,40,44,48,149,153,157,161,165]},CR:{country:"Costa Rica",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},HR:{country:"Croatia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},CY:{country:"Cyprus",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},CZ:{country:"Czech Republic",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},DK:{country:"Denmark",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},DO:{country:"Dominican Republic",shortBandBegin:1,shortBandEnd:11,longBand:[36,40,44,48,149,153,157,161,165]},EC:{country:"Ecuador",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},EG:{country:"Egypt",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},SV:{country:"El Salvador",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},EE:{country:"Estonia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},FI:{country:"Finland",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},FR:{country:"France",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},GE:{country:"Georgia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},DE:{country:"Germany",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},GR:{country:"Greece",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},GT:{country:"Guatemala",shortBandBegin:1,shortBandEnd:11,longBand:[36,40,44,48,149,153,157,161,165]},HN:{country:"Honduras",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},HK:{country:"Hong Kong",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},HU:{country:"Hungary",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},IS:{country:"Iceland",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},IN:{country:"India",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},ID:{country:"Indonesia",shortBandBegin:1,shortBandEnd:13,longBand:[149,153,157,161]},IR:{country:"Iran",shortBandBegin:1,shortBandEnd:13,longBand:[149,153,157,161,165]},IE:{country:"Ireland",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},IL:{country:"Israel",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},IT:{country:"Italy",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},JP:{country:"Japan",shortBandBegin:1,shortBandEnd:14,longBand:[36,40,44,48]},JO:{country:"Jordan",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},KZ:{country:"Kazakhstan",shortBandBegin:1,shortBandEnd:13,longBand:[]},KP:{country:"Korea North",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161]},KR:{country:"Korea Republic",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161]},KW:{country:"Kuwait",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},LV:{country:"Latvia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},LB:{country:"Lebanon",shortBandBegin:1,shortBandEnd:13,longBand:[149,153,157,161,165]},LI:{country:"Liechtenstein",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},LT:{country:"Lithuania",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},LU:{country:"Luxembourg",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},MO:{country:"Macau",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},MK:{country:"Macedonia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},MY:{country:"Malaysia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},MT:{country:"Malta",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},MX:{country:"Mexico",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},MC:{country:"Monaco",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},MA:{country:"Morocco",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},NL:{country:"Netherlands",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},NZ:{country:"New Zealand",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},NO:{country:"Norway",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},OM:{country:"Oman",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},PA:{country:"Panama",shortBandBegin:1,shortBandEnd:11,longBand:[36,40,44,48,149,153,157,161,165]},PK:{country:"Pakistan",shortBandBegin:1,shortBandEnd:13,longBand:[149,153,157,161,165]},PE:{country:"Peru",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},PH:{country:"Philippines",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},PL:{country:"Poland",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},PT:{country:"Portugal",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},PR:{country:"Puerto Rico",shortBandBegin:1,shortBandEnd:11,longBand:[36,40,44,48,149,153,157,161,165]},QA:{country:"Qatar",shortBandBegin:1,shortBandEnd:13,longBand:[149,153,157,161,165]},RO:{country:"Romania",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},RU:{country:"Russia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},SA:{country:"Saudi Arabia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},SG:{country:"Singapore",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},SK:{country:"Slovakia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},SI:{country:"Slovenia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},ZA:{country:"South Africa",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},ES:{country:"Spain",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},SE:{country:"Sweden",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},CH:{country:"Switzerland",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},SY:{country:"Syria",shortBandBegin:1,shortBandEnd:13,longBand:[]},TW:{country:"Taiwan",shortBandBegin:1,shortBandEnd:11,longBand:[149,153,157,161]},TH:{country:"Thailand",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},TT:{country:"Trinidad & Tobago",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},TN:{country:"Tunisia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},TR:{country:"Turkey",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},UA:{country:"Ukraine",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},AE:{country:"United Arab Emirates",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},GB:{country:"United Kingdom",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},UZ:{country:"Uzbekistan",shortBandBegin:1,shortBandEnd:11,longBand:[36,40,44,48,149,153,157,161,165]},UY:{country:"Uruguay",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},US:{country:"United States",shortBandBegin:1,shortBandEnd:11,longBand:[36,40,44,48,149,153,157,161,165]},VE:{country:"Venezuela",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},VN:{country:"Vietnam",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},YE:{country:"Yemen",shortBandBegin:1,shortBandEnd:13,longBand:[]},ZW:{country:"Zimbabwe",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]}},new_region={AL:{country:"Albania",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},DZ:{country:"Algeria",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},AR:{country:"Argentina",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},AM:{country:"Armenia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},AU:{country:"Australia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},AT:{country:"Austria",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},AZ:{country:"Azerbaijan",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},BH:{country:"Bahrain",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},BY:{country:"Belarus",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},BE:{country:"Belgium",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},BZ:{country:"Belize",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},BO:{country:"Bolivia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},BR:{country:"Brazil",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},BN:{country:"Brunei Darussalam",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},BG:{country:"Bulgaria",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},CA:{country:"Canada",shortBandBegin:1,shortBandEnd:11,longBand:[36,40,44,48,149,153,157,161,165]},CL:{country:"Chile",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},CN:{country:"China",shortBandBegin:1,shortBandEnd:13,longBand:[149,153,157,161,165]},CO:{country:"Colombia",shortBandBegin:1,shortBandEnd:11,longBand:[36,40,44,48,149,153,157,161,165]},CR:{country:"Costa Rica",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},HR:{country:"Croatia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},CY:{country:"Cyprus",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},CZ:{country:"Czech Republic",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},DK:{country:"Denmark",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},DO:{country:"Dominican Republic",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},EC:{country:"Ecuador",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},EG:{country:"Egypt",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},SV:{country:"El Salvador",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},EE:{country:"Estonia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},FI:{country:"Finland",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},FR:{country:"France",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},GE:{country:"Georgia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},DE:{country:"Germany",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},GR:{country:"Greece",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},GT:{country:"Guatemala",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},HN:{country:"Honduras",shortBandBegin:1,shortBandEnd:13,longBand:[149,153,157,161,165]},HK:{country:"Hong Kong",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},HU:{country:"Hungary",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},IS:{country:"Iceland",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},IN:{country:"India",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},ID:{country:"Indonesia",shortBandBegin:1,shortBandEnd:13,longBand:[149,153,157,161]},IR:{country:"Iran",shortBandBegin:1,shortBandEnd:13,longBand:[149,153,157,161,165]},IE:{country:"Ireland",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},IL:{country:"Israel",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},IT:{country:"Italy",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},JP:{country:"Japan",shortBandBegin:1,shortBandEnd:14,longBand:[36,40,44,48]},JO:{country:"Jordan",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},KZ:{country:"Kazakhstan",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},KP:{country:"Korea North",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161]},KR:{country:"Korea Republic",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161]},KW:{country:"Kuwait",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},LV:{country:"Latvia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},LB:{country:"Lebanon",shortBandBegin:1,shortBandEnd:13,longBand:[149,153,157,161,165]},LI:{country:"Liechtenstein",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},LT:{country:"Lithuania",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},LU:{country:"Luxembourg",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},MO:{country:"Macau",shortBandBegin:1,shortBandEnd:13,longBand:[149,153,157,161,165]},MK:{country:"Macedonia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},MY:{country:"Malaysia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},MT:{country:"Malta",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},MX:{country:"Mexico",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},MC:{country:"Monaco",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},MA:{country:"Morocco",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},NL:{country:"Netherlands",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},NZ:{country:"New Zealand",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},NO:{country:"Norway",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},OM:{country:"Oman",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},PK:{country:"Pakistan",shortBandBegin:1,shortBandEnd:13,longBand:[149,153,157,161,165]},PA:{country:"Panama",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},PE:{country:"Peru",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},PH:{country:"Philippines",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},PL:{country:"Poland",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},PT:{country:"Portugal",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},PR:{country:"Puerto Rico",shortBandBegin:1,shortBandEnd:11,longBand:[36,40,44,48,149,153,157,161,165]},QA:{country:"Qatar",shortBandBegin:1,shortBandEnd:13,longBand:[149,153,157,161,165]},RO:{country:"Romania",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},RU:{country:"Russia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},SA:{country:"Saudi Arabia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161]},SG:{country:"Singapore",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},SK:{country:"Slovakia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},SI:{country:"Slovenia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},ZA:{country:"South Africa",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},ES:{country:"Spain",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},SE:{country:"Sweden",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},CH:{country:"Switzerland",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},SY:{country:"Syria",shortBandBegin:1,shortBandEnd:13,longBand:[]},TW:{country:"Taiwan",shortBandBegin:1,shortBandEnd:11,longBand:[149,153,157,161,165]},TH:{country:"Thailand",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},TT:{country:"Trinidad & Tobago",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},TN:{country:"Tunisia",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},TR:{country:"Turkey",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},UA:{country:"Ukraine",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},AE:{country:"United Arab Emirates",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},GB:{country:"United Kingdom",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},US:{country:"United States",shortBandBegin:1,shortBandEnd:11,longBand:[36,40,44,48,149,153,157,161,165]},UY:{country:"Uruguay",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},UZ:{country:"Uzbekistan",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},VE:{country:"Venezuela",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},VN:{country:"Vietnam",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48]},YE:{country:"Yemen",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]},ZW:{country:"Zimbabwe",shortBandBegin:1,shortBandEnd:13,longBand:[36,40,44,48,149,153,157,161,165]}};
!function(a){"use strict";function b(b){var c=a(b),d=c.find(".accordion-group"),e=c.find(".accordion-body"),f=c.data("accordion").selected,g=a(d[f]).find(".accordion-body");return e.hide(),g.show(),1===d.length?(d.find(".accordion-header").click(function(){e.slideToggle()}),void 0):(a.each(d,function(){var b=a(this);b.find(".accordion-header").click(function(){var c=b.find(".accordion-body");c.is(":visible")||a.each(e,function(){a(this).is(":visible")&&a(this).slideToggle()}),b.find(".accordion-body").slideToggle()})}),void 0)}a.fn.accordion=function(c){if(0!==this.length){var d,e=this.data("accordion");return e?(d=a.extend(e.selected,c),e.opts=d):this.data("accordion",{selected:c}),b(this),this}}}(jQuery),function(a){"use strict";var b=function(a,b,c){this.$element=a,this.checkAllName=b,this.onchanged=c,this._init()};b.prototype.ckClass="icon-checked",b.prototype.unckClass="icon-unchecked",b.prototype._init=function(){this.setChecked(!1),this.$element.click(a.proxy(function(a){a.preventDefault(),this.toggle()},this))},b.prototype.toggle=function(){if(this.checkAllName){var a=this.getChecked();this.setChecked(!a),this.setCheckedAll(!a)}else this.setChecked(!this.getChecked())},b.prototype.setChecked=function(a){var b=this.$element;return a?(b.children(":eq(0)").prop("checked",!0),b.children(":eq(1)").removeClass(this.unckClass).addClass(this.ckClass)):(b.children(":eq(0)").prop("checked",!1),b.children(":eq(1)").removeClass(this.ckClass).addClass(this.unckClass)),"function"==typeof this.onchanged&&this.onchanged(a),this},b.prototype.getChecked=function(){return this.$element.children(":eq(0)").prop("checked")?!0:!1},b.prototype.setCheckedAll=function(b){var c=this.ckClass,d=this.unckClass;return b?a(this.checkAllName).each(function(){var b=a(this);b.children(":eq(0)").prop("checked",!0),b.children(":eq(1)").removeClass(d).addClass(c),b.data("checkbox")&&"function"==typeof b.data("checkbox").onchanged&&b.data("checkbox").onchanged(!0)}):a(this.checkAllName).each(function(){var b=a(this);b.children(":eq(0)").prop("checked",!1),b.children(":eq(1)").removeClass(c).addClass(d),b.data("checkbox")&&"function"==typeof b.data("checkbox").onchanged&&b.data("checkbox").onchanged(!1)}),this},b.prototype.change=function(a){return"function"==typeof a?this.onchanged=a:"boolean"==typeof a?this.setChecked(a):this.onchanged&&this.onchanged(this.getChecked()),this},a.fn.checkbox=function(c,d){var e=arguments;return this.each(function(){var f=a(this),g=f.data("checkbox");g?g[e[0]](e[1],e[2],e[3]):f.data("checkbox",new b(f,c,d))})}}(jQuery),function(a){"use strict";var b=function(b,c){this.$handler=b,this.opts=a.extend({},this.defaults,c),this._init()};b.prototype.defaults={onMove:function(){},onDrop:function(){},$container:null},b.prototype._init=function(){var b=this.opts.$container;b||(b=this.opts.$container=this.$handler),"absolute"!==b.css("position")&&b.css("position","absolute"),this.dragData={},this.$handler.mousedown(a.proxy(function(a){this.drag(a)},this))},b.prototype.drag=function(b){a.extend(this.dragData,{left:this.opts.$container.position().left,top:this.opts.$container.position().top,offLeft:b.pageX,offTop:b.pageY}),a(document).bind("mousemove.dragAndDrop",a.proxy(function(a){this.opts.onMove(a),this.move(a)},this)).bind("mouseup.dragAndDrop",a.proxy(function(a){this.opts.onDrop(a),this.drop()},this))},b.prototype.move=function(a){var b=this.dragData,c=b.left+a.pageX-b.offLeft,d=b.top+a.pageY-b.offTop;this.opts.$container.css({left:c,top:d})},b.prototype.drop=function(){a(document).unbind("mousemove.dragAndDrop").unbind("mouseup.dragAndDrop")},a.fn.dragAndDrop=function(c){return this.each(function(){var d=a(this),e=d.data("dragAndDrop");e||(e=new b(d,c),d.data("dragAndDrop",e))})}}(jQuery),function(a){function b(a,b){this.init(a,b)}b.prototype={constructor:b,init:function(b,c){var d=this;a.extend(d,d.defaults,c),d.$oldSelect=a(b),d.$oldSelect.hide(),d.options=d.$oldSelect.find("option"),d.$oldSelect.removeClass(d.wrapperClass),d.$oldSelect.is(":disabled")&&(d.disabled=!0),d.options.length&&(d.options.each(function(b){var c=a(this);c.is(":selected")&&(d.selectedIndex=b,d.focusIndex=b)}),void 0===d.selectedIndex&&(d.selectedIndex=0,d.focusIndex=0)),d.render(),d.select(d.selectedIndex),d.disabled===!0&&d.disable()},buildDiv:function(){var b=this,c=a('<div class="'+b.wrapperClass+'"></div>');b.$container=b.$oldSelect.wrap(c).parent(),b.$select=a('<span class="dropdown-toggle">'+b.$oldSelect.find("option:selected").text()+"</span>").appendTo(b.$container),b.$arrow=a('<span class="arrow bottom"/>').appendTo(b.$container),b.$dropdown=a('<ul class="dropdown-menu"></ul>').appendTo(b.$container),b.$dropdown.hide(),b.$container.addClass(b.$oldSelect.attr("class")),b.width&&b.$container.css("width",b.width),a.each(b.options,function(c){var d=a(this);a("<li>"+d.text()+"</li>").appendTo(b.$dropdown),d.hasClass("custom")&&b.setRemovable(c)}),b.items=b.$dropdown.find("li")},render:function(){var a=this;a.$oldSelect.parent().hasClass(a.wrapperClass)?(a.$container=a.$oldSelect.parent(),a.$select=a.$container.find(".dropdown-toggle"),a.$arrow=a.$container.find(".arrow"),a.$dropdown=a.$container.find("ul"),a.items=a.$dropdown.find("li")):a.buildDiv(),a.close(),a.bindHandlers(),a.disabled&&a.disable()},refreshText:function(){var b=this;b.options=b.$oldSelect.find("option"),b.items=b.$dropdown.find("li"),a(b.options).each(function(c){a(b.items.get(c)).text(a(this).text())}),b.$select.text(a(b.items.get(b.selectedIndex)).text())},bindHandlers:function(){var b=this;b.$container.on({"click.TPDropDown":function(c){b.down||b.disabled||a(c.target).is("select")?b.close():b.open()}}),b.items.on({"click.TPDropDown":function(){var c=a(this).index();b.select(c)},"mouseover.TPDropDown":function(){var c=a(this);c.addClass("focus").siblings().removeClass("focus"),b.focusIndex=c.index()},"mouseout.TPDropDown":function(){a(this).removeClass("focus")}})},unbindHandlers:function(){var a=this;a.$container.add(a.$oldSelect).add(a.items).add(a.$dropdown).off(".TPDropDown")},open:function(){var c=this;c.$container.addClass("open"),c.$dropdown.slideDown("fast"),c.down=!0,b.prototype.openingElem&&b.prototype.openingElem.close(),b.prototype.openingElem=c,a(document).on("click.TPDropDown",function(b){var d=a(b.target);!d.closest("."+c.wrapperClass).length&&c.down&&c.close()})},close:function(){var c=this;c.$container.removeClass("open"),c.focusIndex=c.selectedIndex,c.$dropdown.slideUp("fast"),c.down=!1,a(document).off("click.TPDropDown"),b.prototype.openingElem=null},select:function(b){var c=this;if(void 0===b)return c.selectedIndex;"string"==typeof b&&(b=c.$oldSelect.find("option[value="+b+"]").index());var d=a(c.items.get(b));c.items.removeClass("active").eq(b).addClass("active"),c.$select.text(d.text()),c.$oldSelect.get(0).selectedIndex=b;var e=c.selectedIndex;c.selectedIndex=b,c.focusIndex=b,c.onChanged&&e!==b&&c.onChanged(b)},change:function(a){var b=this;"function"==typeof a?b.onChanged=a:b.onChanged&&b.onChanged(b.selectedIndex)},setRemovable:function(b){var c=this,d=c.$dropdown.children(":eq("+b+")"),e=a('<i class="icon-remove"/>');d.append(e),e.on({click:function(){return a("#save_err_message").text(""),a("#deleteProfilePopup").popup("show"),c.close(),c.deleteIndex=a(this).parent().prevAll().length,!1}})},getRemovePos:function(){return this.deleteIndex},addItem:function(b,c,d){var e=this,f=a("<option></option>").val(c).text(b),g=a("<li></li>").text(b);void 0===d||d>=e.options.length?(e.$oldSelect.append(f),e.$dropdown.append(g)):(e.$oldSelect.children(":eq("+d+")").before(f),e.$dropdown.children(":eq("+d+")").before(g)),e.options=e.$oldSelect.find("option"),e.items=e.$dropdown.find("li"),e.unbindHandlers(),e.bindHandlers()},removeItem:function(a){var b=this;b.$oldSelect.get(0).selectedIndex===a&&b.select((a+1)%b.options.length),b.$oldSelect.children(":eq("+a+")").remove(),b.$dropdown.children(":eq("+a+")").remove(),b.options=b.$oldSelect.find("option"),b.items=b.$dropdown.find("li")},modifyItem:function(b,c,d){var e=this;if(e.options.get(b)){var f=a(e.options.get(b)),g=a(e.items.get(b));f.text(c),g.text(c),d&&f.attr("value",d),e.selectedIndex===b&&e.$select.text(c)}},enable:function(){var a=this;a.disabled!==!1&&(a.disabled=!1,a.$container.removeClass("disable"),a.bindHandlers(),a.$oldSelect.attr("disabled",!1))},disable:function(){var a=this;a.disabled!==!0&&(a.disabled=!0,a.$container.addClass("disable"),a.unbindHandlers(),a.$oldSelect.attr("disabled",!0),a.down||a.close())},text:function(){return this.$select.text()},value:function(){return this.$oldSelect.children(":eq("+this.selectedIndex+")").attr("value")},pos:function(){return this.selectedIndex},defaults:{down:!1,disabled:!1,wrapperClass:"dropdown"}},a.fn.dropdown=function(){var c=arguments,d=[],e=this.each(function(){if("string"==typeof c[0]){var e=a(this).data("dropdown")[c[0]](c[1],c[2],c[3]);void 0!==e&&d.push(e)}else a(this).data("dropdown",new b(this,c[0]))});return 0===d.length?e:1===d.length?d[0]:d}}(jQuery),function(a){function b(a,b){this.init(a,b)}b.prototype={constructor:b,g_id:1,init:function(c,d){var e=this;if("function"!=typeof d.onChanged)throw"onChanged can not be undefined";d.totalPage||(d.totalPage=1),e.settings=a.extend(e.defaults,d),e.$container=a(c),e.totalPage=Math.ceil(d.totalPage),e.onChanged=d.onChanged,e.id=b.prototype.g_id++,e.buildDiv()},buildDiv:function(){var b,c=this;c.$container.empty();var d;switch(c.totalPage>1?c.$container.show():c.$container.hide(),c.totalPage){case 0:case 1:return;case 2:case 3:case 4:case 5:d=c.totalPage;break;default:d=7}var e=a("<span></span>");for(b=0;d>b;b++)c.$container.append(e.clone());if(c.$container.append("<i></i>").prepend("<i></i>"),c.$numSpans=c.$container.children(":gt(0):lt("+d+")"),c.totalPage>5)c.$firstSpan=a(c.$numSpans[0]).text("1"),c.$lastSpan=a(c.$numSpans[6]).text(c.totalPage),c.$middleSpans=c.$numSpans.not(c.$firstSpan).not(c.$lastSpan),a(c.$middleSpans[0]).add(a(c.$middleSpans[4])).addClass("default-cursor"),c.$container.append('<div class="pagination-goto">Page to <input type="text" id="paginationGotoInput'+c.id+'"><button id="paginationGotoButton'+c.id+'" class="btn btn-success">'+a.i18n.prop("paginationGo")+"</button></div>"),a("#paginationGotoButton"+c.id).click(function(){var b=a("#paginationGotoInput"+c.id).val();if(b&&(b=b.replace(/^0/,""),b||(b="1"),b=Math.ceil(parseInt(b,10)))){b>c.totalPage&&(b=c.totalPage),1>b&&(b=1);for(var d="1234567890",e=0;e<b.length;e++)if(-1===d.indexOf(b.charAt(e)))return;c.toPage(parseInt(b,10))}}),a("#paginationGotoInput"+c.id).on("keyup.pagination",function(b){13===b.which&&a("#paginationGotoButton"+c.id).click()});else for(b=0;b<c.totalPage;b++)a(c.$numSpans[b]).text(b+1);c.$headSpan=c.$container.children("i:first").addClass("icon-pagination-left"),c.$endSpan=c.$container.children("i:last").addClass("icon-pagination-right"),c.$headSpan.on({click:function(){c.toPage(c.curNum-1)},mousedown:function(){a(this).attr("class","icon-pagination-left-press")},mouseup:function(){a(this).attr("class","icon-pagination-left")}}),c.$endSpan.on({click:function(){c.toPage(c.curNum+1)},mousedown:function(){a(this).attr("class","icon-pagination-right-press")},mouseup:function(){a(this).attr("class","icon-pagination-right")}}),c.$numSpans.click(function(){var b=a(this).text();isNaN(b)||c.toPage(parseInt(b,10))})},refresh:function(){var a=this;a.toPage(a.curNum)},toPage:function(b,c){var d,e=this;switch(b=Math.ceil(b),b>e.totalPage&&(b=e.totalPage),1>b&&(b=1),e.curNum=b,e.totalPage){case 0:case 1:break;case 2:1===b?(e.$headSpan.hide(),e.$endSpan.show(),a(e.$numSpans[0]).addClass("active"),a(e.$numSpans[1]).removeClass("active")):(e.$headSpan.show(),e.$endSpan.hide(),a(e.$numSpans[0]).removeClass("active"),a(e.$numSpans[1]).addClass("active"));break;case 3:case 4:case 5:e.$numSpans.removeClass("active"),a(e.$numSpans[b-1]).addClass("active");break;default:if(e.$numSpans.removeClass("active"),e.$container.children("span").each(function(){a(this).show()}),e.curNum<=2){for(d=1;4>d;d++)a(e.$middleSpans[d]).text(d+1);a(e.$middleSpans[3]).hide()}else if(e.totalPage-e.curNum<=1){for(d=1;4>d;d++)a(e.$middleSpans[d]).text(e.totalPage-4+d);a(e.$middleSpans[1]).hide()}else for(d=1;4>d;d++)a(e.$middleSpans[d]).text(e.curNum-1+d);var f=a(e.$middleSpans[0]),g=a(e.$middleSpans[1]);"2"===g.text()?f.hide():f.text("...").show(),f=a(e.$middleSpans[4]),g=a(e.$middleSpans[3]),g.text()>=e.totalPage-1?(f.hide(),g.text()===e.totalPage.toString()&&g.hide()):f.text("...").show(),e.$numSpans.each(function(){var b=a(this);b.text()===""+e.curNum&&b.addClass("active")})}c||e.onChanged(e.curNum)},pageCount:function(a){var b=this;a=Math.ceil(a),a!==b.totalPage&&(b.totalPage=a,b.buildDiv(),b.toPage(b.curNum,!0))},change:function(a){var b=this;"function"==typeof a?b.onChanged=a:b.onChanged(b.curNum)}},a.fn.pagination=function(){var c=arguments,d=[],e=this.each(function(){if("string"==typeof c[0]){var e=a(this).data("pagination")[c[0]](c[1],c[2],c[3]);void 0!==e&&d.push(e)}else{var f=new b(this,c[0]);a(this).data("pagination",f),c[0].page?f.toPage(c[0].page):f.toPage(1)}});return 0===d.length?e:d}}(jQuery),function(a){"use strict";var b=function(c,d){this.$host=c,a.extend(this,b.DEFAULT,d),this._init()};b.TEMPLATE='<div class="popover hide"><div class="orient"></div><p></p></div>',b.DEFAULT={placement:"top",text:"",delay:0,timeout:0,trigger:"",html:!1,margin:10},b.prototype._init=function(){this.$popover=a(b.TEMPLATE),this.$host.after(this.$popover),this.$text=this.$popover.children("p"),"click"===this.trigger&&this.$host.click(a.proxy(this.toggle,this)),this.setText(this.text)},b.prototype.toggle=function(){return this.$popover.is(":visible")?(this.show(),void 0):(this.hide(),void 0)},b.prototype.show=function(){this.update(),this.$popover.fadeIn(1e3*this.delay),this.timeout&&setTimeout(a.proxy(this.hide,this),1e3*this.timeout)},b.prototype.hide=function(){this.$popover.fadeOut(1e3*this.delay)},b.prototype.update=function(){var a,b,c=this.$host,d=this.$popover,e=this.placement,f=c.position();switch(e){case"top":a=f.top-d.outerHeight()-this.margin,b=f.left;break;case"bottom":a=f.top+c.outerHeight()+this.margin,b=f.left;break;case"left":a=f.top+(c.outerHeight()-d.outerHeight())/2,b=f.left-d.outerWidth(!0)-this.margin;break;case"right":a=f.top+(c.outerHeight()-d.outerHeight())/2,b=f.left+c.outerWidth(!0)+this.margin}d.removeClass("top bottom left right").addClass(e).css({top:a,left:b})},b.prototype.setText=function(a){a&&(this.text=a,this.html?this.$text.html(a):this.$text.text(a),this.update())},a.fn.popover=function(){var c=arguments;return this.each(function(){var d=a(this),e=d.data("popover");e?"function"==typeof e[c[0]]&&e[c[0]](c[1]):(e=new b(d,c[0]),d.data("popover",e))})},a.fn.validatePopover=function(){var c=arguments;return this.each(function(){var d=a(this),e=d.data("validatePopover");e?"function"==typeof e[c[0]]&&e[c[0]](c[1]):(e=new b(d,c[0]),d.data("validatePopover",e))})}}(jQuery),function(a){function b(a,b){this.init(a,b)}b.prototype={constructor:b,init:function(b,c){var d=this;a.extend(d,d.defaults,c),d.$container=a(b),d.noXButton||(d.$close=a('<div class="push-right icon-close popup-close"></div>'),d.$container.prepend(d.$close),d.$close.on({click:d.hide,mouseenter:function(){a(this).removeClass("icon-close").addClass("icon-close-hover")},mouseleave:function(){a(this).removeClass("icon-close-hover").addClass("icon-close")}},null,d)),d.$closeButtons&&d.$closeButtons.each(function(){a(this).on("click.popup",d,d.hide)}),d.hide()},hide:function(a){var b=this;a&&a.data&&(b=a.data),b.$container.hide(),b.$covers&&(b.$covers.remove(),b.$covers=void 0)},show:function(b){var c=this;if(!c.$container.is(":visible")){b&&b.data&&(c=b.data);var d=a('<div class="cover"/>');d.css("z-index",7).appendTo("body"),c.$covers=d,c.$headers||(c.$headers=a("#header")),c.$headers.each(function(){d=a('<div class="cover"/>'),d.height(a(this).height()),a(this).append(d),c.$covers=c.$covers.add(d)}),c.$container.show()}}},a.fn.popup=function(){var c=arguments;return this.each(function(){"string"==typeof c[0]?a(this).data("popup")[c[0]](c[1],c[2],c[3]):a(this).data("popup")||a(this).data("popup",new b(this,c[0]))})}}(jQuery),function(a){function b(a,b){this.init(a,b)}b.prototype={constructor:b,init:function(b,c){var d=this;d.settings=a.extend({},d.defaults,c),d.$container=a(b),d.buildDiv(),d.frameWidth=d.$frame.width(),d.percent=d.settings.initPercent?d.settings.initPercent:0,d.updateProgress(d.percent)},updateProgress:function(a){var b=this;a>100?a=100:0>a&&(a=0),0===a?b.$bar.hide():b.$bar.show(),b.percent=a,b.$bar.width(b.frameWidth*b.percent/100),b.$percent&&b.$percent.text(b.percent+"%")},buildDiv:function(){var b=this;b.$frame=a('<div class="frame"></div>'),b.$bar=a('<div class="bar"></div>'),b.$container.append(b.$frame).append(b.$bar),b.settings.displayPercent&&(b.$percent=a('<div class="percent">0%</div>').insertAfter(b.$frame))},defaults:{displayPercent:!0}},a.fn.progressbar=function(){var c=arguments,d=[],e=this.each(function(){if("string"==typeof c[0]){var e=a(this).data("progressbar")[c[0]](c[1],c[2],c[3]);void 0!==e&&d.push(e)}else a(this).data("progressbar",new b(this,c[0]))});return 0===d.length?e:d}}(jQuery),function(a){"use strict";var b=function(a,b,c){this.$element=a,this.selector=c||".radio","function"==typeof b&&(this.callback=b),this._init()};b.prototype.ckClass="icon-radio-checked",b.prototype.unckClass="icon-radio",b.prototype._init=function(){this.setChecked(!1),this.$element.click(a.proxy(function(a){a.preventDefault(),this.toggle(),this.getChecked()&&"function"==typeof this.callback&&this.callback()},this))},b.prototype.toggle=function(){this.getChecked()||(a(this.selector).each(function(){var c=a(this).data("radio");c||a(this).data("radio",c=new b(a(this),selector)),c.getChecked()&&c.setChecked(!1)}),this.setChecked(!0))},b.prototype.setChecked=function(a){var b=this.$element;a?(b.children(":eq(0)").attr("checked","checked"),b.children(":eq(1)").removeClass(this.unckClass).addClass(this.ckClass)):(b.children(":eq(0)").removeAttr("checked"),b.children(":eq(1)").removeClass(this.ckClass).addClass(this.unckClass))},b.prototype.getChecked=function(){return this.$element.children(":eq(0)").attr("checked")?!0:!1},b.prototype.setCallback=function(a){"function"==typeof a&&(this.callback=a)},a.fn.radio=function(c,d){return this.each(function(){var e=a(this),f=e.data("radio");f?"callback"===c&&f.setCallback(d):(f=new b(e,c,d),e.data("radio",f))})}}(jQuery),function(a){"use strict";var b=function(b,c){this.$handler=b,this.opts=a.extend({},this.defaults,c),this._init()};b.prototype.defaults={maxWidth:a(document).width(),maxHeight:a(document).height(),minWidth:0,minHeight:0,onResize:function(){},onDrop:function(){},$container:null},b.prototype._init=function(){this.opts.$container||(this.opts.$container=this.$handler),this.resizeData={},this.$handler.mousedown(a.proxy(function(a){this.resize(a)},this))},b.prototype.resize=function(b){a.extend(this.resizeData,{offX:b.pageX,offY:b.pageY,width:this.opts.$container.width(),height:this.opts.$container.height()}),a(document).bind("mousemove.resize",a.proxy(function(a){this.opts.onResize(),this.move(a)},this)).bind("mouseup.resize",a.proxy(function(){this.opts.onDrop(),this.drop()},this))},b.prototype._move=function(a){var b=a.pageX-this.resizeData.offX,c=a.pageY-this.resizeData.offY,d=b>=0?Math.min(this.resizeData.width+b,this.opts.maxWidth):Math.max(this.resizeData.width+b,this.opts.minWidth),e=c>=0?Math.min(this.resizeData.height+c,this.opts.maxHeight):Math.max(this.resizeData.height+c,this.opts.minHeight);this.opts.$container.css({width:d,height:e})},b.prototype._drop=function(){a(document).unbind("mousemove.resize").unbind("mouseup.resize")},a.fn.resize=function(c){return this.each(function(){var d=a(this),e=d.data("resize");e||(e=new b(d,c),d.data("resize",e))})}}(jQuery),function(a){var b=function(a,b){this.init(a,b)};b.prototype.init=function(b,c){var d=this;c||(c={}),c.labelClass="switch-button-label icon-switch-label",c.bgOnClass="icon-switch-bg-on",c.bgOffClass="icon-switch-bg-off",c.containerClass="switch",c.duration=200,c.dragThreshold=5,c.minleft=2,c.maxleft=29,d.settings=c,d.$input=a(b),d.state=d.settings.initState?!0:d.$input.prop("checked"),d.buildDiv(),d.state?(d.$container.addClass(d.settings.bgOnClass),d.$label.css("left",c.maxleft)):(d.$container.addClass(d.settings.bgOffClass),d.$label.css("left",c.minleft)),d.bindEvent()},b.prototype.bindEvent=function(){var b=this;b.$label.on("mousedown.switchButton",function(c){var d=a(c.target),e={left:parseInt(d.css("left"),10),pageX:c.pageX,Switch:b};return b.isClicking=!0,a(document).on({"mousemove.switchButton":b.onMouseMove,"mouseup.switchButton":b.onMouseUp,"click.switchButton":b.onClick},null,e),!1}),b.$input.click(function(){return!1}),b.$container.on("click.switchButton",null,b,b.onClick)},b.prototype.onClick=function(b){var c=b.data;return a(b.target).is("div")?(c.changeState(),!1):void 0},b.prototype.onMouseMove=function(a){if(a.data&&a.data.Switch&&a.data.Switch.isClicking){var b=a.data,c=b.Switch,d=c.settings,e=Math.min(Math.max(a.pageX-b.pageX+b.left,d.minleft),d.maxleft);return!c.dragging&&Math.abs(e-b.left)>d.dragThreshold&&(c.dragging=!0),c.$label.css("left",e),!1}},b.prototype.onMouseUp=function(b){if(b.data&&b.data.Switch&&b.data.Switch.isClicking){var c=b.data,d=c.Switch,e=parseInt(d.$label.css("left"),10);return d.dragging?e/d.settings.maxleft<.5?d.changeState(!1):d.changeState(!0):d.changeState(),d.dragging=!1,d.isClicking=!1,a(document).off(".switchButton"),!1}},b.prototype.changeState=function(a,b,c){var d=this,e=d.state;d.$label.stop(),d.state=void 0===a?a=!d.state:a,d.state?(d.$container.removeClass(d.settings.bgOffClass).addClass(d.settings.bgOnClass),b===!0?d.$label.css("left",d.settings.maxleft):d.$label.animate({left:d.settings.maxleft},d.settings.duration)):(d.$container.removeClass(d.settings.bgOnClass).addClass(d.settings.bgOffClass),b===!0?d.$label.css("left",d.settings.minleft):d.$label.animate({left:d.settings.minleft},d.settings.duration)),d.$input.prop("checked",d.state),e===a||c||d.settings.onChanged&&d.settings.onChanged(a)},b.prototype.checked=function(){return this.state},b.prototype.change=function(a){var b=this;"function"==typeof a?b.settings.onChanged=a:b.settings.onChanged&&b.settings.onChanged(b.$input.prop("checked"))},b.prototype.buildDiv=function(){var a=this;return a.$input.parent().hasClass("switch")&&a.$input.next().hasClass(a.settings.labelClass)?(a.$container=a.$input.parent(),a.$label=a.$input.next(),void 0):(a.$container=a.$input.wrap('<div class="'+a.settings.containerClass+'"></div>').parent(),a.$label=a.$input.after('<label class="'+a.settings.labelClass+'"></label>').next(),void 0)},a.fn.switchButton=function(c){var d=arguments,e=[],f=this.each(function(){var f=a(this),g=f.data("switch");if(g){if("string"==typeof d[0]){var h=g[d[0]](d[1],d[2],d[3]);void 0!==h&&e.push(h)}}else{if(!f.is("input"))return;f.data("switch",new b(f,c))}});return 0===e.length?f:1===e.length?e[0]:e}}(jQuery),function(a){"use strict";function b(a){return Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1}),-1!=d.indexOf(a)}var c=function(b,d){this.$form=b,a.extend(this,c.DEFAULT,d),this._init()};c.DEFAULT={rules:{},margin:0,noKeyup:!1},c.RULES={required:function(a){return!!a},equalTo:function(b,c){return b===a("#"+c).val()},trigger:function(b,c){for(var d=0;d<c.length;d++){var e=a.extend({},b.rules[c[d]]);delete e.trigger,b._validateEach(a("#"+c[d])[0],e)}return!0}},c.prototype.messages={},c.prototype._init=function(){this.messages.error=a.i18n.prop("error"),this.messages.required=a.i18n.prop("required");var b=this.margin;a.each(this.rules,function(c){a("#"+c).validatePopover({placement:"right",text:"",html:!0,margin:b})}),this.noKeyup||this._bindHandler(),this.password&&this._setPswRule()},c.prototype.resetForm=function(b,c){var d={};"string"==typeof b?d[b]=b:d=this.rules,c?a.each(d,a.proxy(function(a){var b=this.$form.find("#"+a);if(b.data("tip")){if(!b.is(":visible"))return this._handleErrorHint(!1,b,null,!0),void 0;this._removeTip(b),b.data("validatePopover")?(this._popTip(b,!1),b.validatePopover("update")):this._popTip(b,!1)}},this)):a.each(d,a.proxy(function(a){var b=this.$form.find("#"+a);this._handleErrorHint(!1,b,null,!0)},this))};var d=[13,9,16,17,18,19,20,144,145,27,33,34,35,36,37,38,39,40,42,45,91,92,93,112,113,114,115,116,117,118,119,120,121,122,123];c.prototype._bindHandler=function(){a.each(this.rules,a.proxy(function(a,c){var d=this,e=d.$form.find("#"+a);e.keyup(function(e){if(e.preventDefault(),!b(e.keyCode||e.which)){var f=d._validateEach(e.currentTarget,c);"function"==typeof d.callback&&d.callback(f&&d._validateOthers(a))}})},this))},c.prototype._setPswRule=function(){var b=this,c=b.password[0],d=b.password[1],e=a("#"+c),f=a("#"+d),g=!1;e.on("keyup.pswValid",function(){b.$form.valid(c)?(g=!0,f.val()&&b.$form.valid(d)):(g=!1,b.$form.validate("resetForm",d))}),f.on("keyup.pswValid",function(){g||b.$form.validate("resetForm",d)})},c.prototype._validateEach=function(b,d,e){var f=!0,g=a(b);return"object"==typeof d&&g.is(":visible")?(a.each(d,a.proxy(function(a,b){if(b!==!1){var d;switch(a){case"trigger":d=this;break;default:d=g.val()}return"function"!=typeof c.RULES[a]||c.RULES[a](d,b)?void 0:(e||this._handleErrorHint(!0,g,a),this._formRet=!1,f=!1,!1)}},this)),f&&(e||this._handleErrorHint(!1,g)),f):f},c.prototype._validateAll=function(b){return this._formRet=!0,a.each(this.rules,a.proxy(function(a,c){this._validateEach(document.getElementById(a),c,b)},this)),this._formRet},c.prototype._validateOthers=function(b){return this._formRet=!0,a.each(this.rules,a.proxy(function(a,c){return b===a||this._validateEach(document.getElementById(a),c,!0)?void 0:!1},this)),this._formRet},c.prototype._handleErrorHint=function(a,b,c,d){a?(b.validatePopover("setText",this._getErrMsg(c)).validatePopover("show"),this._popTip(b,!1)):(b.validatePopover("hide"),d?this._removeTip(b):this._popTip(b,!1))},c.prototype._getErrMsg=function(a){return this.messages[a]?this.messages[a]:this.messages.error},c.prototype._popTip=function(b,c){var d=b.data("tip");d||(d=a('<i style="position:absolute;top:0;left:0"></i>'),b.before(d),b.data("tip",d)),c?d.removeClass("icon-wrong").addClass("icon-right"):d.removeClass("icon-right");var e=b.position();d.css({top:e.top+(b.outerHeight()-d.outerHeight())/2,left:e.left+b.outerWidth(!0)+this.margin-35})},c.prototype._removeTip=function(a){var b=a.data("tip");b&&(a.data("tip",null),b.remove())},a.Validator=c,c.addRule=function(a,b,d){"string"==typeof a&&"function"==typeof b&&(c.RULES[a]=b,"string"==typeof d&&(c.prototype.messages[a]=d))},c.setErrorMessage=function(a,b){"string"==typeof a&&"string"==typeof b&&(c.prototype.messages[a]=b)},a.fn.validate=function(){var b=arguments;return this.each(function(){var d=a(this),e=d.data("validator");e?"function"==typeof e[b[0]]&&e[b[0]](b[1],b[2]):(e=new c(d,b[0]),d.data("validator",e))})},a.fn.valid=function(a,b){var c=this.data("validator");return c?"string"==typeof a?c._validateEach(document.getElementById(a),c.rules[a],b):c._validateAll(b):!1}}(jQuery);